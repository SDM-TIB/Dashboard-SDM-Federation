{% extends 'base.html' %}
{% block title %}Query{% endblock %}

{% block header %}Query{% endblock %}

{% block content %}
<div class="row row-header">
    {% include 'federations-list.html' %}
</div>

<link href="{{ url_for('static', filename='css/yasqe.min.css') }}" rel='stylesheet' type='text/css'/>

<div class="row col-lg-12" id="query_row" style="display:none">
    <div class="col-lg-7">
        <div id="yasqe"></div>
        <div class="form-group" style="margin-top: 15px">
            <label class="control-label" for="timeout">Timeout (in seconds)</label>
            <input class="form-control" id="timeout" name="timeout" type="text"/>
        </div>
    </div>
    <div class="col-lg-5">
        <div>
            <div class="card-header bg-white">Example Queries</div>
            <div class="card-body">
                <ul>
                    <li><a href="#" id="classes">Get all classes represented in the data</a></li>
                    <li><a href="#" id="analyticalnumtheoryex">A Video about &quot;Analytic number theory around torsion homology&quot;</a></li>
                    <!-- TODO: add more example queries here -->
                </ul>
                <div class="form-group">
                    <button type="button" class="btn btn-success" id="btnShowTable" style="display:none">Show Table</button>
                    <button type="button" class="btn btn-success" id="btnVisualize">Visualize</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--/ .row -->

<div class="row" id="result_row" style="display:none">
    <div class="col-lg-12">
        <div class="card bg-white">
            <span id="res_status"></span>
            <div class="card-header" id="result_info">
                Results
                <div class="float-end">
                    <b>1st Result time:<span id="time_first" style="color:#D2691E"></span></b> &nbsp;|&nbsp;<b>Execution time:<span id="time_total" style="color:#D2691E"></span></b>
                </div>
            </div>
            <!-- /.card-header -->
            <div class="card-body" id="results">
                <div id="feedback_div" class="form-group" style="text-align: right">
                    <button class="btn btn-primary" name="add_feedback" id="add_feedback" disabled="disabled" data-bs-toggle="modal" data-bs-target="#feedbackModal"> Report an Issue </button>
                    <button class="btn btn-danger" name="stop" id="btnStop" disabled="disabled"> Stop </button>
                </div>
                <div id="result_table_div">
                    <table style="width: 100%" class="table table-striped table-bordered table-hover" id="query_result_table"></table>
                    <!-- /.table-responsive -->
                </div>
                <div id="result_graph_div" style="display:none">
                    <div id="graph" class="col-lg-12 rdfmt"></div>
                </div>
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

{% include 'query/modal-feedback.html' %}

<script src="{{ url_for('static', filename='js/libs/d3.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/libs/yasqe.bundled.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/colors.js') }}"></script>
<script src="{{ url_for('static', filename='js/utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/query.js') }}"></script>

{% endblock %}
