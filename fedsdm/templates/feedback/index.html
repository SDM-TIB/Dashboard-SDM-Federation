{% extends 'base.html' %}
{% block title %}Issues Reported{% endblock %}

{% block header %}
    {% if g.user %}
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Reported Issues</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row">
            <div class="col-lg-4">
                <div class="form-group form-control-lg">
                    <select class="form-control " id="federationslist">
                        <option value="">Please select federation</option>
                        {% for fed in federations %}
                            {% if fed['uri'] == session['fed'] %}
                                <option value="{{ fed['uri'] }}" selected> {{ fed['name'] }}</option>
                            {% else %}
                                <option value="{{ fed['uri'] }}"> {{ fed['name'] }}</option>
                            {% endif %}
                        {% endfor %}
                        <option value="All">All</option>
                    </select>
                </div>
            </div>
            <div class="pull-right">
                    <a class="action btn btn-primary" href="{{ url_for('federation.create') }}">Create New Federation</a>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-database fa-2x"></i><i class="fa fa-database fa-2x"></i><i class="fa fa-database fa-2x"></i>
                <div class="pull-right">
                    <p><b>Federation:<span id="mfedName" style="color:#D2691E"></span></b></p>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="form-group" align="right">
                     <button class="btn btn-success" name="edit" id="editis" disabled="disabled" > Update </button>
                     <button class="btn btn-primary" name="edit" id="issuedetails" disabled="disabled" > Show details </button>
                     <!--<button class="btn btn-danger" name="remove" id="removeis" disabled="disabled" > Remove </button>-->
                 </div>
                <table width="100%" class="table table-striped table-bordered table-hover  display" id="reportedissues">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Federation</th> <!-- hidden-->
                            <th>Username</th>
                            <th>Query</th>
                            <th>Description</th>
                            <th>Status</th>
                            <th>Created Date</th>
                        </tr>
                    </thead>
                    <!--<tfoot>-->
                        <!--<tr>-->
                            <!--<th>ID</th>-->
                            <!--<th>Federation</th> &lt;!&ndash; hidden&ndash;&gt;-->
                            <!--<th>Username</th>-->
                            <!--<th>Query</th>-->
                            <!--<th>Description</th>-->
                            <!--<th>Status</th>-->
                            <!--<th>Created Date</th>-->
                        <!--</tr>-->
                    <!--</tfoot>-->
                </table>

                <!-- /.table-responsive -->
                <!--<div class="well">
                    <h4>DataTables Usage Information</h4>
                    <p>DataTables is a very flexible, advanced tables plugin for jQuery. In SB Admin, we are using a specialized version of DataTables built for Bootstrap 3. We have also customized the table headings to use Font Awesome icons in place of images. For complete documentation on DataTables, visit their website at <a target="_blank" href="https://datatables.net/">https://datatables.net/</a>.</p>
                    <a class="btn btn-default btn-lg btn-block" target="_blank" href="https://datatables.net/">View DataTables Documentation</a>
                </div>-->
            </div>
            <!-- /.panel-body -->
        </div>
            <!-- /.panel -->
    </div>
</div>


<div id="feedback-dialog" title="Feedback details" class="ui-widget"  style="display:none">
    <form>
        <fieldset>
          <label for="user">Username</label>
          <input type="text" name="user" id="user"  class="text ui-widget-content ui-corner-all disabled">
          <label for="query">Query</label>
          <textarea class="form-control disabled"  name="query"  placeholder="Enter a query" id="query" rows="4" ></textarea>

          <label for="desc">Description</label>
          <input type="text" name="desc" id="desc"  class="text ui-widget-content ui-corner-all disabled">
          <label for="status">Status</label>
          <input type="text" name="status" id="status"  class="text ui-widget-content ui-corner-all disabled">

          <label for="var">Column:</label>
          <input type="text" name="var" id="var"  class="text ui-widget-content ui-corner-all disabled">
          <label for="pred">Associated Predicate(s)</label>
          <input type="text" name="pred" id="pred" placeholder="predicate " class="text ui-widget-content ui-corner-all disabled">

          <label for="rowjson" class="label-class" >Row</label>
          <textarea class="form-control disabled"  name="rowjson"  placeholder="Enter a query" id="rowjson" rows="4" ></textarea>

          <!-- Allow form submission with keyboard without duplicating the dialog button -->
          <input type="submit" tabindex="-1" value="OK" style="position:absolute; top:-1000px">
       </fieldset>
    </form>
</div>
<!-- end of add dialog -->

<script src="/js/libs/dataTables.editor.min.js"></script>
<script src="/js/feedback.js"></script>


{% endblock %}